## 编译工具链

预处理-》编译 -》汇编-》链接

```
-E预处理   
gcc -c hello.c			//生成hello.o目标文件
gcc hello.o -o hello

gcc hello.c -o hello	//直接运行
```

GCC其他选项

```
gcc -Wall main.c -o main	//生成所有警告信息
gcc main.c -o main -DN		//-DN文件开头添加宏define  N
gcc main.c -o main -DN=value		//-DN文件开头添加宏define  N value

gcc main.c -o main -Idir	//gcc/g++ 会先去-I 指定的目录去查找 

```

**条件编译**

```
//作用于预处理阶段
#define DEBUG 1
#if DEBUG
 ...
#elif
 ...
#endif
```

```
defined标识符
#if defined(DEBUG)

#if defined DEBUG

#ifdef
#ifndef  
```

条件编译作用

```
编写可移植程序
为宏提供默认定义
避免头文件重复包含
#ifndef _DEBUG_H
#define _DEBUG_H
...
#endif

临时屏蔽包含注释的代码
#if 0
...
#endif
```



**调试**

```
//GDB来进行调试
gcc hello.c -o hello -g			//-g补充调试信息
gdb hello

//参数
gdb --args hello text1 text2 text3
//或者
gdb hello
set args text1 text2 text3
run

//查看源代码
进入(gdb)list
```

设置断点

```
gdb hello
break 20   //在第20行打断点
break main
break hello.c:20
break hello.c:main
//查看断点
info break
i b

//删除断点
delete 2	//删除第2行断点
d			//删除所有断点

//启动调试
run  
r
//继续
c     (continue)//运行到逻辑上的下一个断点
//忽略断点n次
ignore 1 10		//忽略1号断点n次

//单步调试
step
//逐过程next
n
//finish  跳出子函数
finish
```

