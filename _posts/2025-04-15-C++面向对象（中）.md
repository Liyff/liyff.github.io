## 面向对象（中）

#### 1.再谈构造函数

##### 初始化列表

```
Date(int year = 0, int month = 1, int day = 1)
	:_year(year)
	,_month(month)
	,_day(day)
{
	
}
```

有些成员变量必须在初始化列表初始化

**1.const成员变量**

**2.引用成员变量**

**3.没有默认构造函数的自定义成员变量**

![image-20250521203932285](C:\Users\LIYUFENG\AppData\Roaming\Typora\typora-user-images\image-20250521203932285.png)

成员变量声明的顺序就是其在初始化列表中初始化顺序，

**隐式类型转换**

##### explicit关键字  

**防止进行隐式类型转换**

![image-20250521211353173](C:\Users\LIYUFENG\AppData\Roaming\Typora\typora-user-images\image-20250521211353173.png)

![image-20250521211116080](C:\Users\LIYUFENG\AppData\Roaming\Typora\typora-user-images\image-20250521211116080.png)

#### 2.static成员

 static成员变量，属于这个类所有对象，必须在类外面定义初始化

static 成员函数，没有this指针，函数中不能访问非静态成员![image-20250521214147277](C:\Users\LIYUFENG\AppData\Roaming\Typora\typora-user-images\image-20250521214147277.png)

静态成员函数不能调用非静态成员函数，因为没有this指针

非静态成员函数可以访问静态成员函数

#### 3.练习题

求1+...+N，不能用乘除法，for ，while,if ,else ,switch ,case等关键字

不能用递归

思路：类+static成员+数组



#### 4.C++11 成员函数初始化

非静态成员变量可以在声明时给缺省值

```
class A
 {
 public:
 	A()
 		:a(2)
 	{
 	
 	}
    void Print()
    {
        cout << a << endl;
        cout << b._b<< endl;
        cout << p << endl;
    }
 private:
    // 非静态成员变量，可以在成员声明时给缺省值。
    int a = 10;
    B b = 20;
    int* p = (int*)malloc(4);
	static int n;
 };
 
 int A::n = 10;
 
 int main()
 {
     A a;
     a.Print();
     return 0;
 }
```

#### 5.友元

##### 友元函数

```
 class Date
 {
	friend ostream& operator<<(ostream& _cout, const Date& d);
 	friend istream& operator>>(istream& _cin, Date& d);
 public:
     Date(int year, int month, int day)
            : _year(year)
            , _month(month)
            , _day(day)
        {}
		 
 		
 private:
     int _year;
     int _month;
     int _day；
};
 ostream& operator<<(ostream& _cout, const Date& d)
 {
     _cout<<d._year<<"-"<<d._month<<"-"<<d._day;
     return _cout;
 }
 istream& operator>>(istream& _cin, Date& d)
 {
     _cin>>d._year;
     _cin>>d._month;
     _cin>>d._day;
     return _cin;
 }
```

运算符重载，双目运算符有两个参数

![image-20250523232705030](C:\Users\LIYUFENG\AppData\Roaming\Typora\typora-user-images\image-20250523232705030.png)

##### 友元类
