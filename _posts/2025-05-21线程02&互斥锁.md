# 线程02&互斥锁

一个线程可以做加锁操作

- P加锁   V解锁

![image-20250626185104884](C:\Users\LIYUFENG\AppData\Roaming\Typora\typora-user-images\image-20250626185104884.png)

### mutex

两个线程用互斥锁，各加1000000000

![image-20250626191231434](C:\Users\LIYUFENG\AppData\Roaming\Typora\typora-user-images\image-20250626191231434.png)

#### 使用互斥锁保护资源

- 所有共享资源的访问要放入临界区

![image-20250626191719391](C:\Users\LIYUFENG\AppData\Roaming\Typora\typora-user-images\image-20250626191719391.png)



### 死锁

![image-20250626192613104](C:\Users\LIYUFENG\AppData\Roaming\Typora\typora-user-images\image-20250626192613104.png)

一个线程对同一把锁加锁两次

![image-20250626193216308](C:\Users\LIYUFENG\AppData\Roaming\Typora\typora-user-images\image-20250626193216308.png)